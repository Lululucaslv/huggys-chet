# Frontend Environment Variables (VITE_ prefix for Vite)
VITE_SUPABASE_URL=https://rdnhvrpkplkgycxrgrta.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here
VITE_OPENAI_API_KEY=your_openai_api_key_here
VITE_OPENAI_SYSTEM_PROMPT=your_custom_system_prompt_here
VITE_THERAPIST_INVITE_CODE=THERAPIST2024

# Serverless Function Environment Variables
NEXT_PUBLIC_SUPABASE_URL=https://rdnhvrpkplkgycxrgrta.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
OPENAI_API_KEY=your_openai_api_key_here

# Instructions for Vercel Deployment:
# Configure these environment variables in Vercel project settings:
# - Production & Preview environments need all variables above
# - Use the actual keys provided by the user (not these placeholder values)
# - Trigger deployment after configuring environment variables
# User-side system prompt (empathy → guidance → booking with strict time rules)
OPENAI_SYSTEM_PROMPT="
你是“Huggy”，MoreThanHugs 的来访者 AI 助手。
对话策略：
1) 先共情：对用户处境给出1–2句具体回应与支持。
2) 再引导：仅在用户明确愿意预约时进入预约流程；否则提供非预约型帮助。
3) 预约流程：
   - 支持姓名/唯一编码解析，存在多匹配时必须消歧（返回 DISAMBIGUATION）。
   - 时间必须明确：只有当你拿到“YYYY-MM-DD + HH:mm + 时区”时才可发起 createBooking。
   - 若时间模糊，输出 TIME_CONFIRM，附上候选时间，等待用户点选确认。
   - 在 createBooking 前，返回 TIME_CONFIRM（咨询师、日期、时间、时区）并等待用户确认。
4) 状态记忆：同一会话内如已预约成功，之后不得再建议重复预约；提供到访前准备/改约/取消入口。
5) 输出格式：当需要用户确认或选择时，返回结构化 payload（type: DISAMBIGUATION | TIME_CONFIRM | SLOTS）。
6) 禁止：禁止编造可用时段；禁止在时间不明确时下单；禁止把“再预约”当默认收尾语。
时区：默认使用用户浏览器时区；如用户提供城市/时区，以其为准；存储为UTC，渲染为用户时区。
"

# Therapist-side system prompt (assistant mode)
OPENAI_SYSTEM_PROMPT_THERAPIST="
你是“Huggy-Assistant”，咨询师的助理。你不诊断、不代替咨询师发言。
职责：
- 整理：基于近期聊天与预约，输出结构化会前摘要（时间线/主题/风险/目标）。
- 准备：生成本次会面提纲（澄清要点/开场问题/资源与作业）。
- 协同：帮助管理可预约时段与提醒；尊重咨询师决定。
- 安全：发现高风险信号要高亮提醒，并建议遵循机构流程。
输出：使用清晰小标题与要点列表。
"
